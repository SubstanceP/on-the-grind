{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport Head from 'next/head';\nimport Swipe from 'react-easy-swipe';\nimport { Hidden, Collapse } from '@material-ui/core';\nimport { Header, Item, Payment, Divider, Hint } from '../components';\nimport { DownArrow, hoodie, shirt, sweatshirt, landscape } from '../static';\nvar maxTouchScreenWidth = 1100;\nvar styles = {\n  root: {\n    // display: 'flex',\n    // alignItems: 'center',\n    // flexDirection: 'column',\n    // height: '100vh',\n    margin: '-8px'\n  },\n  hero: {},\n  content: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    flexDirection: 'row',\n    position: 'relative',\n    width: '100%'\n  },\n  mobileContent: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingBottom: '20px',\n    position: 'absolute',\n    bottom: '0',\n    width: '100%'\n  },\n  downArrow: {\n    width: '4vw',\n    rot: '270'\n  },\n  rightArrow: {\n    width: '4vw',\n    transform: \"rotate(270deg) \",\n    paddingRight: '15px'\n  },\n  leftArrow: {\n    width: '4vw',\n    transform: \"rotate(90deg) \",\n    paddingLeft: '15px'\n  },\n  upArrow: {\n    width: '4vw',\n    transform: \"rotate(180deg)\"\n  },\n  paymentText: {\n    width: '100%',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  buyNow: {\n    padding: '10px',\n    fontSize: '20px',\n    fontFamily: 'Comfortaa, sans-serif'\n  },\n  paymentPanel: {\n    backgroundColor: '#e8f6f7'\n  }\n};\n\nvar Shop = /*#__PURE__*/function (_React$Component) {\n  _inherits(Shop, _React$Component);\n\n  function Shop(props) {\n    var _this;\n\n    _classCallCheck(this, Shop);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Shop).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"next\", function () {\n      if (_this.state.swipeDisabled) {\n        return;\n      }\n\n      var items = _this.state.items;\n      var itemIndex = _this.state.itemIndex;\n\n      if (itemIndex >= items.length - 1) {\n        itemIndex = 0;\n      } else {\n        itemIndex++;\n      }\n\n      _this.setState({\n        itemIndex: itemIndex\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"last\", function () {\n      if (_this.state.swipeDisabled) {\n        return;\n      }\n\n      var items = _this.state.items;\n      var itemIndex = _this.state.itemIndex;\n\n      if (itemIndex <= 0) {\n        itemIndex = items.length - 1;\n      } else {\n        itemIndex--;\n      }\n\n      _this.setState({\n        itemIndex: itemIndex\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"swipeDisabled\", function () {\n      _this.setState({\n        swipeDisabled: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"swipeEnabled\", function () {\n      _this.setState({\n        swipeDisabled: false\n      });\n\n      _this.setState({\n        fingerMoving: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSwipeMove\", function (position) {\n      // finger moving tells mobile small item not to disappear when a finger\n      // is dragged slightly (since the magnified won't pop up in this case)\n      if (Math.abs(position.x) > 10 || Math.abs(position.y) > 10) {\n        _this.setState({\n          fingerMoving: true\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"showPayment\", function () {\n      if (_this.state.width < maxTouchScreenWidth) {\n        return;\n      }\n\n      _this.setState({\n        showPayment: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"hidePayment\", function () {\n      if (_this.state.width < maxTouchScreenWidth) {\n        return;\n      }\n\n      _this.setState({\n        showPayment: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"togglePayment\", function () {\n      var showPayment = _this.state.showPayment;\n\n      _this.setState({\n        showPayment: !showPayment\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClose\", function () {\n      _this.setState({\n        modalOpen: false\n      });\n    });\n\n    _this.state = {\n      itemIndex: 0,\n      showPayment: false,\n      items: [shirt, sweatshirt, hoodie],\n      width: 0,\n      swipeDisabled: false,\n      fingerMoving: false,\n      modalOpen: true\n    };\n    _this.updateWindowDimensions = _this.updateWindowDimensions.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Shop, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.updateWindowDimensions();\n      window.addEventListener('resize', this.updateWindowDimensions);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener('resize', this.updateWindowDimensions);\n    }\n  }, {\n    key: \"updateWindowDimensions\",\n    value: function updateWindowDimensions() {\n      this.setState({\n        width: window.innerWidth\n      });\n    }\n  }, {\n    key: \"getHeroDimension\",\n    value: function getHeroDimension() {\n      var width = this.state.width;\n\n      switch (true) {\n        case width < 600:\n          return width;\n\n        case width < 960:\n          return 450;\n\n        case width < 1280:\n          return 600;\n\n        case width < 1920:\n          return 700;\n\n        default:\n          return 800;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          items = _this$state.items,\n          itemIndex = _this$state.itemIndex,\n          showPayment = _this$state.showPayment,\n          modalOpen = _this$state.modalOpen;\n      return __jsx(\"div\", {\n        style: styles.root\n      }, __jsx(Swipe, {\n        onSwipeLeft: this.next,\n        onSwipeRight: this.last,\n        onSwipeMove: this.onSwipeMove,\n        allowMouseEvents: false\n      }, __jsx(Head, null, __jsx(\"link\", {\n        href: \"https://fonts.googleapis.com/css?family=Comfortaa\",\n        rel: \"stylesheet\",\n        key: \"google-font-comfortaa\"\n      })), __jsx(Header, null), __jsx(\"img\", {\n        style: {\n          height: this.getHeroDimension() + 'px',\n          position: 'absolute',\n          opacity: 0.9,\n          objectFit: 'cover',\n          width: '100%'\n        },\n        src: landscape\n      }), __jsx(Hidden, {\n        smUp: true\n      }, __jsx(Hint, {\n        open: modalOpen,\n        handleClose: this.handleClose\n      })), __jsx(\"div\", {\n        style: styles.content\n      }, __jsx(Hidden, {\n        xsDown: true\n      }, __jsx(\"img\", {\n        src: DownArrow,\n        style: styles.leftArrow,\n        onClick: this.last\n      })), items.map(function (item, i) {\n        return i == itemIndex && __jsx(Item, {\n          fingerMoving: _this2.state.fingerMoving,\n          article: item,\n          swipeDisabled: _this2.swipeDisabled,\n          swipeEnabled: _this2.swipeEnabled\n        });\n      }), __jsx(Hidden, {\n        xsDown: true\n      }, __jsx(\"img\", {\n        src: DownArrow,\n        style: styles.rightArrow,\n        onClick: this.next\n      }))), __jsx(Divider, null), __jsx(\"div\", {\n        style: styles.paymentPanel,\n        onMouseLeave: this.hidePayment,\n        onMouseEnter: this.showPayment,\n        onClick: this.togglePayment\n      }, __jsx(\"div\", {\n        style: styles.paymentText\n      }, __jsx(\"span\", {\n        style: styles.buyNow\n      }, \"Buy \"), showPayment ? __jsx(\"img\", {\n        src: DownArrow,\n        style: styles.upArrow\n      }) : __jsx(\"img\", {\n        src: DownArrow,\n        style: styles.downArrow\n      }), __jsx(\"span\", {\n        style: styles.buyNow\n      }, \" Now\"))), __jsx(Collapse, {\n        \"in\": showPayment\n      }, __jsx(Payment, {\n        hidePayment: this.hidePayment,\n        showPayment: this.showPayment\n      })), __jsx(Divider, null)));\n    }\n  }]);\n\n  return Shop;\n}(React.Component);\n\nexport { Shop as default };","map":null,"metadata":{},"sourceType":"module"}